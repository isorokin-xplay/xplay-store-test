import React, { useState } from 'react';
import styled from 'styled-components';
import { icons as ASSETS } from '../assets/icons';
import EmptyCart from './EmptyCart';

const CartContainer = styled.div`
  position: relative;
`;

const CartTrigger = styled.div`
  background-color: #ffffff;
  height: 40px;
  padding: 0 16px;
  border-radius: 8px;
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  color: #101112;
  font-family: 'Manrope', sans-serif;
  font-size: 16px;
  font-weight: 700;
  transition: opacity 0.2s;

  &:hover {
    opacity: 0.9;
  }
`;

const CartButton = () => {
  const [isOpen, setIsOpen] = useState(false);

  const toggleCart = () => {
    setIsOpen(!isOpen);
  };

  return (
    <CartContainer>
      <CartTrigger onClick={toggleCart}>
        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <g clipPath="url(#clip0_150_20770)">
            <path d="M1.6124 0.833984C1.40569 0.833984 1.20745 0.914465 1.06129 1.05772C0.915122 1.20098 0.833008 1.39528 0.833008 1.59787C0.833008 1.80047 0.915122 1.99477 1.06129 2.13802C1.20745 2.28128 1.40569 2.36176 1.6124 2.36176H1.99585C2.16509 2.36205 2.32964 2.41632 2.46462 2.51637C2.59961 2.61642 2.6977 2.75682 2.74407 2.91635L5.21628 11.3955C5.35611 11.874 5.65109 12.2949 6.05662 12.5945C6.46216 12.8941 6.95619 13.0562 7.46404 13.0562H14.5861C15.0535 13.0563 15.5102 12.9191 15.8972 12.6623C16.2843 12.4055 16.5839 12.0409 16.7575 11.6155L19.0551 5.98412C19.1495 5.7524 19.1847 5.50153 19.1573 5.25343C19.13 5.00534 19.0411 4.76758 18.8984 4.56094C18.7557 4.35429 18.5635 4.18505 18.3387 4.06801C18.1138 3.95097 17.8631 3.8897 17.6086 3.88954H4.64889L4.24205 2.49621C4.10258 2.01767 3.80796 1.59663 3.40271 1.29674C2.99747 0.996856 2.50363 0.834419 1.99585 0.833984H1.6124ZM7.8475 19.1673C8.15455 19.1673 8.4586 19.108 8.74227 18.9929C9.02595 18.8777 9.28371 18.7089 9.50083 18.4961C9.71795 18.2833 9.89018 18.0307 10.0077 17.7526C10.1252 17.4746 10.1857 17.1766 10.1857 16.8757C10.1857 16.5747 10.1252 16.2767 10.0077 15.9987C9.89018 15.7206 9.71795 15.468 9.50083 15.2552C9.28371 15.0424 9.02595 14.8736 8.74227 14.7584C8.4586 14.6433 8.15455 14.584 7.8475 14.584C7.22738 14.584 6.63266 14.8254 6.19417 15.2552C5.75568 15.685 5.50933 16.2679 5.50933 16.8757C5.50933 17.4834 5.75568 18.0663 6.19417 18.4961C6.63266 18.9259 7.22738 19.1673 7.8475 19.1673ZM14.0826 19.1673C14.3897 19.1673 14.6937 19.108 14.9774 18.9929C15.2611 18.8777 15.5188 18.7089 15.7359 18.4961C15.9531 18.2833 16.1253 18.0307 16.2428 17.7526C16.3603 17.4746 16.4208 17.1766 16.4208 16.8757C16.4208 16.5747 16.3603 16.2767 16.2428 15.9987C16.1253 15.7206 15.9531 15.468 15.7359 15.2552C15.5188 15.0424 15.2611 14.8736 14.9774 14.7584C14.6937 14.6433 14.3897 14.584 14.0826 14.584C13.4625 14.584 12.8678 14.8254 12.4293 15.2552C11.9908 15.685 11.7444 16.2679 11.7444 16.8757C11.7444 17.4834 11.9908 18.0663 12.4293 18.4961C12.8678 18.9259 13.4625 19.1673 14.0826 19.1673Z" fill="#101112" />
          </g>
          <defs>
            <clipPath id="clip0_150_20770">
              <rect width="20" height="20" fill="white" />
            </clipPath>
          </defs>
        </svg>
        $ 0
      </CartTrigger>
      {isOpen && <EmptyCart />}
    </CartContainer>
  );
};

export default CartButton;
